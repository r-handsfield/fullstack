<!DOCTYPE html>

<html lang="en">
<head>
	<meta charset="utf-8"/>
	<title></title>
	<style type="text/css">
		div{
			position: absolute;
			height: 500px;
			width: 500px;
		}
		#rightSide{
			/* border on left side of div*/
			left: 520px;
    		border-left: 4px solid black;
		}

		img{
			position: absolute;
			left: 200px;
			top:  100px;
		}
	</style>


</head>
<body onload="generateFaces()">
	<h1>Matching Game</h1>
	<p>Click on the extra smiling face on the left</p>

   	<div id="leftSide"></div>

    <div id="rightSide"></div>
</body>

	<script type="text/javascript">
		// create N faces on leftSide
		var numberOfFaces = 5;
		var theLeftSide = document.getElementById('leftSide');
		var theRightSide = document.getElementById('rightSide');
		var theBody = document.getElementsByTagName("body")[0];

		function generateFaces(){
			for(i=0; i<numberOfFaces; i++) {
				smiley = document.createElement("img");
				smiley.src = "smile.png";
				smiley.style.left = Math.random()*400 + "px";
				smiley.style.top  = Math.random()*400 + "px";

				// append faces to left div
				theLeftSide.appendChild(smiley);
			}

			// clone left side images & copy N-1 of them to the right dif
			leftSideImages = theLeftSide.cloneNode(true);
			leftSideImages.removeChild(leftSideImages.lastChild);
			theRightSide.appendChild(leftSideImages);

			// if player picks right: add event handler to extra face on left side
			theLeftSide.lastChild.onclick = function nextLevel(event){

				event.stopPropagation();

				// remove existing faces
				while (theLeftSide.hasChildNodes()){
					theLeftSide.removeChild(theLeftSide.lastChild);
				}

				while (theRightSide.hasChildNodes()){
					theRightSide.removeChild(theRightSide.lastChild);
				}

				numberOfFaces += 5;
				// start next level
				generateFaces();
			}

			//  if player clicks wrong face
			theBody.onclick = function gameOver() {
    			alert("Game Over!");

    			// deactvate all event handlers
    			theBody.onclick = null;
    			theLeftSide.lastChild.onclick = null;
			};
		}
	</script>
</html>

